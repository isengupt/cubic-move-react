(this["webpackJsonpthree-template"]=this["webpackJsonpthree-template"]||[]).push([[0],{27:function(e,n){},29:function(e,n){},30:function(e,n,t){},31:function(e,n,t){"use strict";t.r(n);var i=t(5),s=t(8),r=t.n(s),o=t(17),a=t.n(o),c=t(13),h=t(9),l=t.n(h),u=(t(30),t(16)),d=t.n(u),v=t(1),p=t(4),m=t(10),f=t(2),x=t(3),w=t(0),g=t(18),b=t(20),j=t(19),y=t(21),O=function(e){Object(f.a)(t,e);var n=Object(x.a)(t);function t(e){var i;return Object(v.a)(this,t),(i=n.call(this,e)).setupResize=function(){window.addEventListener("resize",i.resize)},i.resize=function(){i.width=i.container.offsetWidth,i.height=i.container.offsetHeight,i.renderer.setSize(i.width,i.height),i.camera.aspect=i.width/i.height,console.log("resize"),i.imageAspect=853/1280,i.camera.updateProjectionMatrix(),console.log(i.camera)},i.state={time:0,paused:!0,isRunning:!1,data:{distortion:0,bloomStrength:.5}},i.start=i.start.bind(Object(m.a)(i)),i.stop=i.stop.bind(Object(m.a)(i)),i.animate=i.animate.bind(Object(m.a)(i)),i}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.scene=new w.t,this.renderer=new w.C({}),this.width=this.mount.clientWidth,this.height=this.mount.clientHeight,this.renderer.setClearColor(0,1),this.renderer.setSize(this.width,this.height),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=w.D,this.container=document.getElementById("scene"),this.mount.appendChild(this.renderer.domElement),this.camera=new w.p(45,this.width/this.height,.01,100),this.camera.lookAt(new w.z),this.camera.position.set(0,0,100),this.controls=new g.a(this.camera,this.renderer.domElement),this.time=0,this.setupResize(),this.addPost(),this.addObjects(),this.animate(),this.resize()}},{key:"addPost",value:function(){this.renderScene=new j.a(this.scene,this.camera),this.bloomPass=new y.a(new w.y(window.innerWidth,window.innerHeight),1,.4,.65),this.bloomPass.threshold=this.state.data.bloomThreshold,this.bloomPass.strength=this.state.data.bloomStrength,this.bloomPass.radius=this.state.data.bloomRadius,this.composer=new b.a(this.renderer),this.composer.addPass(this.renderScene),this.composer.addPass(this.bloomPass)}},{key:"addObjects",value:function(){this.material=new w.u({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:w.e,uniforms:{time:{type:"f",value:0},resolution:{type:"v4",value:new w.A},uvRate1:{value:new w.y(1,1)}},vertexShader:"\nattribute vec3 color;\nuniform float time;\nvarying vec2 vUv;\nattribute float random;\nattribute float depth;\nattribute vec3 pos;\nvarying float vDepth;\nvarying float vHidden;\n\n//\tSimplex 4D Noise \n//\tby Ian McEwan, Ashima Arts\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nfloat permute(float x){return floor(mod(((x*34.0)+1.0)*x, 289.0));}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\nfloat taylorInvSqrt(float r){return 1.79284291400159 - 0.85373472095314 * r;}\n\nvec4 grad4(float j, vec4 ip){\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p,s;\n\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www; \n\n  return p;\n}\n\nfloat snoise(vec4 v){\n  const vec2  C = vec2( 0.138196601125010504,  // (5 - sqrt(5))/20  G4\n                        0.309016994374947451); // (sqrt(5) - 1)/4   F4\n// First corner\n  vec4 i  = floor(v + dot(v, C.yyyy) );\n  vec4 x0 = v -   i + dot(i, C.xxxx);\n\n// Other corners\n\n// Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n\n  vec3 isX = step( x0.yzw, x0.xxx );\n  vec3 isYZ = step( x0.zww, x0.yyz );\n//  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n\n//  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n  // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\n\n  //  x0 = x0 - 0.0 + 0.0 * C \n  vec4 x1 = x0 - i1 + 1.0 * C.xxxx;\n  vec4 x2 = x0 - i2 + 2.0 * C.xxxx;\n  vec4 x3 = x0 - i3 + 3.0 * C.xxxx;\n  vec4 x4 = x0 - 1.0 + 4.0 * C.xxxx;\n\n// Permutations\n  i = mod(i, 289.0); \n  float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = permute( permute( permute( permute (\n             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\n           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\n           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\n           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\n// Gradients\n// ( 7*7*6 points uniformly over a cube, mapped onto a 4-octahedron.)\n// 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n  vec4 p0 = grad4(j0,   ip);\n  vec4 p1 = grad4(j1.x, ip);\n  vec4 p2 = grad4(j1.y, ip);\n  vec4 p3 = grad4(j1.z, ip);\n  vec4 p4 = grad4(j1.w, ip);\n\n// Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= taylorInvSqrt(dot(p4,p4));\n\n// Mix contributions from the five corners\n  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\n  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))\n               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\n\n}\n\n  void main() {\n    vUv = uv;\n    vDepth = depth;\n\n    float noise = snoise(vec4(pos*2.,time/10.));\n\n    noise = step(noise,0.1);\n    vHidden = noise;\n\n    //vec3 newpos = position*abs(sin(pos.x*3. + pos.y*3. + pos.z*3. + time));\n    vec3 newpos = position*noise;\n\n  gl_Position = projectionMatrix * modelViewMatrix*instanceMatrix * vec4(newpos,1.0);\n}\n",fragmentShader:"\n\nuniform float time;\nuniform float progress;\nuniform sampler2D texture1;\nuniform vec4 resolution;\nvarying float vDepth;\nvarying float vHidden;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nfloat PI = 3.141592653589793238;\n\nfloat hue2rgb(float f1, float f2, float hue) {\n  if (hue < 0.0)\n      hue += 1.0;\n  else if (hue > 1.0)\n      hue -= 1.0;\n  float res;\n  if ((6.0 * hue) < 1.0)\n      res = f1 + (f2 - f1) * 6.0 * hue;\n  else if ((2.0 * hue) < 1.0)\n      res = f2;\n  else if ((3.0 * hue) < 2.0)\n      res = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n  else\n      res = f1;\n  return res;\n}\n\nvec3 hsl2rgb(vec3 hsl) {\n  vec3 rgb;\n  \n  if (hsl.y == 0.0) {\n      rgb = vec3(hsl.z); // Luminance\n  } else {\n      float f2;\n      \n      if (hsl.z < 0.5)\n          f2 = hsl.z * (1.0 + hsl.y);\n      else\n          f2 = hsl.z + hsl.y - hsl.y * hsl.z;\n          \n      float f1 = 2.0 * hsl.z - f2;\n      \n      rgb.r = hue2rgb(f1, f2, hsl.x + (1.0/3.0));\n      rgb.g = hue2rgb(f1, f2, hsl.x);\n      rgb.b = hue2rgb(f1, f2, hsl.x - (1.0/3.0));\n  }   \n  return rgb;\n}\n\nvec3 hsl2rgb(float h, float s, float l) {\n  return hsl2rgb(vec3(h, s, l));\n}\nvoid main(){\n\nfloat width = 0.03;\n\nfloat prec = 0.001;\n\n\n  float borderx = max(\n    smoothstep(width+prec, width - prec, vUv.x),\n    smoothstep(width+prec, width - prec, 1. - vUv.x)\n    );\n\n    float bordery = max(\n      smoothstep(width+prec, width - prec, vUv.y),\n      smoothstep(width+prec, width - prec, 1.- vUv.y)\n      );\n\n    float border = max(borderx, bordery);\n\n    vec3 finalColor = mix( hsl2rgb(vDepth*0.5 + 0.5, 1.,vDepth), vec3(0.9), border);\n\n    if (vHidden < 0.5) discard;\n  gl_FragColor = vec4(finalColor,1.);\n  \n\n}\n"});var e=30,n=new w.b(1,1,1);this.mesh=new w.i(n,this.material,Math.pow(e,3));for(var t=new Float32Array(Math.pow(e,3)),i=new Float32Array(Math.pow(e,3)),s=new Float32Array(3*Math.pow(e,3)),r=new w.n,o=0,a=0,c=0;c<e;c++)for(var h=0;h<e;h++)for(var l=0;l<e;l++)r.position.set(c-15,h-15,l-15),r.updateMatrix(),t[a]=Math.random(),i[a]=h/e,s[o]=c/e,s[++o]=h/e,s[++o]=l/e,o++,this.mesh.setMatrixAt(a++,r.matrix);n.setAttribute("random",new w.h(t,1)),n.setAttribute("depth",new w.h(i,1)),n.setAttribute("pos",new w.h(s,3)),this.scene.add(this.mesh);this.scene.fog=new w.g("#45caf7",.01)}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"start",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate))}},{key:"stop",value:function(){cancelAnimationFrame(this.frameId)}},{key:"animate",value:function(){this.time+=.05,this.material.uniforms.time.value=this.time,this.mesh.rotation.x=this.time*this.props.angle.current.spin/8,this.mesh.rotation.y=this.time*this.props.angle.current.spin/8,this.camera.position.z=this.props.angle.current.value,this.frameId=requestAnimationFrame(this.animate),this.composer.render()}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this;return Object(i.jsx)("div",{id:"scene",ref:function(n){e.mount=n}})}}]),t}(s.Component),z=t(11),M=function(e){var n=e.magnetIn,t=e.magnetOut,s=e.rotateMenu;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("nav",{class:"nav",children:Object(i.jsx)("a",{href:"#",className:"link",onMouseEnter:n,onMouseLeave:t,onClick:s,children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(i.jsx)("path",{"fill-rule":"evenodd",d:"M8.156 1.835a.25.25 0 00-.312 0l-5.25 4.2a.25.25 0 00-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 01.75-.75h3.5a.75.75 0 01.75.75v5.25h2.75a.25.25 0 00.25-.25V6.23a.25.25 0 00-.094-.195l-5.25-4.2zM6.906.664a1.75 1.75 0 012.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0113.25 15h-3.5a.75.75 0 01-.75-.75V9H7v5.25a.75.75 0 01-.75.75h-3.5A1.75 1.75 0 011 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2h-.001z"})})})})})},k=function(e){var n=e.magnetIn,t=e.magnetOut,s=e.rotateMenu;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("nav",{class:"nav",children:[Object(i.jsx)("a",{href:"#",className:"link",onMouseEnter:n,onMouseLeave:t,onClick:s,children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(i.jsx)("path",{"fill-rule":"evenodd",d:"M0 7.75A.75.75 0 01.75 7h14.5a.75.75 0 010 1.5H.75A.75.75 0 010 7.75z"})})}),Object(i.jsx)("a",{href:"#",className:"link",onMouseEnter:n,onMouseLeave:t,onClick:s,children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(i.jsx)("path",{"fill-rule":"evenodd",d:"M3.22 9.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L8 6.06 4.28 9.78a.75.75 0 01-1.06 0z"})})}),Object(i.jsx)("a",{href:"https://github.com/isengupt/cubic-noise/",className:"link",onMouseEnter:n,onMouseLeave:t,onClick:s,children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(i.jsx)("path",{"fill-rule":"evenodd",d:"M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"})})})]})})};function C(){var e=Object(s.useRef)(null),n=Object(s.useRef)(null),t=1e3,o=1e3,a=1e3,h=1e3,u=Object(s.useState)(!1),v=Object(c.a)(u,2),p=v[0],m=v[1],f=Object(s.useState)([-100,-100]),x=Object(c.a)(f,2),w=Object(c.a)(x[0],2),g=w[0],b=w[1],j=x[1],y=function(e){m(!0);var n=e.currentTarget.getBoundingClientRect();j([Math.round(n.left+n.width/2),Math.round(n.top+n.height/2)])},C=function(){m(!1)};Object(s.useEffect)((function(){e.current.style.left="-100px",e.current.style.top="-100px",n.current.width=window.innerWidth,n.current.height=window.innerHeight,function(){l.a.setup(n.current);var e=new l.a.Path.RegularPolygon(new l.a.Point(0,0),8,15);e.strokeColor="#E963FE",e.strokeWidth=1;var i=new l.a.Path.RegularPolygon(new l.a.Point(0,0),8,15);i.strokeColor="#3DB1FB",i.strokeWidth=1;var s=50,r=150,c=!1,u=e.segments.map((function(){return new d.a})),v=i.segments.map((function(){return new d.a})),m=[],f=new l.a.Group([e]),x=new l.a.Group([i]);f.applyMatrix=!1,x.applyMatrix=!1;var w=function(e,n,t){return(1-t)*e+t*n},j=function(e,n,t,i,s){return(e-n)*(s-i)/(t-n)+i};l.a.view.onFrame=function(n){p?p&&(t=w(t,g,.2),o=w(o,b,.2),f.position=new l.a.Point(t,o),x.position=new l.a.Point(t,o)):(t=w(t,a,.2),o=w(o,h,.2),f.position=new l.a.Point(t,o),x.position=new l.a.Point(t,o)),p&&e.bounds.width<s?(e.scale(1.08),i.scale(1.08)):!p&&e.bounds.width>30&&(c&&(e.segments.forEach((function(e,n){e.point.set(m[n][0],m[n][1])})),i.segments.forEach((function(e,n){e.point.set(m[n][0],m[n][1])})),c=!1,m=[]),e.scale(.85),i.scale(.85)),p&&e.bounds.width>=s&&(c=!0,0===m.length&&(e.segments.forEach((function(e,n){m[n]=[e.point.x,e.point.y]})),i.segments.forEach((function(e,n){m[n]=[e.point.x,e.point.y]}))),e.segments.forEach((function(e,t){var i=u[t].noise2D(n.count/r,0),s=u[t].noise2D(n.count/r,1),o=j(i,-1,1,-4,4),a=j(s,-1,1,-4,4),c=m[t][0]+o,h=m[t][1]+a;e.point.set(c,h)})),i.segments.forEach((function(e,t){var i=v[t].noise2D(n.count/r,0),s=v[t].noise2D(n.count/r,1),o=j(i,-1,1,-4,4),a=j(s,-1,1,-4,4),c=m[t][0]+o,h=m[t][1]+a;e.point.set(c,h)}))),e.smooth(),i.smooth()}}()}));var A=Object(s.useState)(!1),E=Object(c.a)(A,2),P=E[0],N=E[1],S=r.a.useRef({value:100,spinning:!P,spin:1});function D(){console.log("hello"),N((function(e){return!e})),P?(z.a.to(S.current,{duration:1,value:100,ease:"power2.inOut"}),z.a.to(S.current,{duration:1,spin:1,ease:"power2.inOut"})):(z.a.to(S.current,{duration:1,value:30,ease:"power2.inOut"}),z.a.to(S.current,{duration:1,spin:0,ease:"power2.inOut"})),S.current.spinning=P}function I(){var e,n;N((function(e){return!e})),P?(z.a.to(S.current,{duration:1,value:100,ease:"power2.inOut"}),z.a.to(S.current,{duration:1,spin:1,ease:"power2.inOut"})):(z.a.to(S.current,{duration:1,value:(e=-10,n=20,Math.floor(Math.random()*(n-e+1)+e)),ease:"power2.inOut"}),z.a.to(S.current,{duration:1,spin:0,ease:"power2.inOut"}))}return Object(i.jsxs)("main",{className:"page-header",children:[Object(i.jsx)(O,{angle:S}),Object(i.jsxs)("div",{onMouseMove:function(n){a=n.clientX,h=n.clientY,e.current.style.left="".concat(a-2.5,"px"),e.current.style.top="".concat(h-2.5,"px")},className:"container",children:[Object(i.jsx)("div",{ref:e,className:"cursor cursor--small"}),Object(i.jsx)("canvas",{ref:n,className:"cursor cursor--canvas"}),Object(i.jsxs)("div",{className:"section",children:[Object(i.jsxs)("div",{className:"sidebar left",children:[Object(i.jsx)(M,{rotateMenu:D,magnetIn:y,magnetOut:C}),Object(i.jsx)("a",{href:"https://github.com/isengupt/cubic-move-react/",className:"link full__link",onMouseEnter:y,onMouseLeave:C,onClick:I,children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(i.jsx)("path",{"fill-rule":"evenodd",d:"M7.75 2a.75.75 0 01.75.75V7h4.25a.75.75 0 110 1.5H8.5v4.25a.75.75 0 11-1.5 0V8.5H2.75a.75.75 0 010-1.5H7V2.75A.75.75 0 017.75 2z"})})})]}),Object(i.jsx)("div",{className:"content",children:Object(i.jsxs)("div",{className:"text__contain",children:[Object(i.jsxs)("div",{children:["Welcome",Object(i.jsx)("span",{className:"hero__span",children:"to"})]}),Object(i.jsxs)("div",{children:["Digital",Object(i.jsx)("span",{className:"large__hero",children:"Dream"})]})]})}),Object(i.jsxs)("div",{className:"sidebar right",children:[Object(i.jsx)(k,{rotateMenu:D,magnetIn:y,magnetOut:C}),Object(i.jsx)("a",{href:"https://isengupt.github.io/audio-visual/",className:"link full__link",onMouseEnter:y,onMouseLeave:C,onClick:I,children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(i.jsx)("path",{"fill-rule":"evenodd",d:"M2.75 2.5a.25.25 0 00-.25.25v2.5a.75.75 0 01-1.5 0v-2.5C1 1.784 1.784 1 2.75 1h2.5a.75.75 0 010 1.5h-2.5zM10 1.75a.75.75 0 01.75-.75h2.5c.966 0 1.75.784 1.75 1.75v2.5a.75.75 0 01-1.5 0v-2.5a.25.25 0 00-.25-.25h-2.5a.75.75 0 01-.75-.75zM1.75 10a.75.75 0 01.75.75v2.5c0 .138.112.25.25.25h2.5a.75.75 0 010 1.5h-2.5A1.75 1.75 0 011 13.25v-2.5a.75.75 0 01.75-.75zm12.5 0a.75.75 0 01.75.75v2.5A1.75 1.75 0 0113.25 15h-2.5a.75.75 0 010-1.5h2.5a.25.25 0 00.25-.25v-2.5a.75.75 0 01.75-.75z"})})})]})]})]})]})}a.a.render(Object(i.jsx)(C,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.c36f2c61.chunk.js.map